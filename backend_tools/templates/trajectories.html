{% extends "templates/base_template.html" %}

{% block body %}


<div class="container">
<h1>Trajectories</h1>

  <table class="table table-striped">
    <thead class="thead-inverse">
      <tr>
      <th>Trajectory</th>
      <th>Summary</th>
      <th>Status</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
 <tbody>

    {% for trajectory in trajectories %}
    <tr>
      <td>
        <div>
          <a href="#" id="name"
            data-type="text"
            data-url="/tools/trajectory/{{ trajectory.key.urlsafe() }}/"
            data-pk="{{ trajectory.key.urlsafe() }}"
            data-placement="right"
            class="is_editable"
            data-title="Enter Trajectory Name">{{ trajectory.name}}</a>
        </div>
      </td>

      <td>
        <div>
          <a href="#" id="summary"
            data-type="textarea"
            data-url="/tools/trajectory/{{ trajectory.key.urlsafe() }}/"
            data-pk="{{ trajectory.key.urlsafe() }}"
            data-placement="right"
            class="is_editable"
            data-title="Enter Trajectory Summary">{{ trajectory.summary}}
          </a>
        </div>
      </td>

      <!-- -->
      <td>
        <div>


          <a href="#" id="status-{{ trajectory.key.urlsafe() }}" data-type="select"
          data-url="/tools/trajectory/{{ trajectory.key.urlsafe() }}/"
          data-pk="{{ trajectory.key.urlsafe() }}"
          data-title="Select Status"
          data-value="{{ trajectory.status }}"></a>
          <script>
          $(function(){
              $('#status-{{ trajectory.key.urlsafe() }}').editable({
                  source: [
                        {value: 0, text: 'In Progress'},
                        {value: 1, text: 'Done'},
                        {value: 2, text: 'Published'},
                        {value: 3, text: 'Abandoned'},
                        {value: 4, text: 'Archived'},
                     ]
              });
          });
          </script>
        </div>
      </td>

      <!-- -->
      <td>
        <a href="/tools/trajectory/{{ trajectory.key.urlsafe() }}/nodes/">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
      </td>

      <!-- -->
      <td>
        <a href="/tools/trajectory/{{ trajectory.key.urlsafe() }}/?mode=delete">
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
  </table>

  <div>
    <a href="/tools/trajectory/?mode=new"
      class="btn btn-default btn-lg">
      <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
      Add New Trajectory</a>
  </div>

</div>



{% endblock %}
